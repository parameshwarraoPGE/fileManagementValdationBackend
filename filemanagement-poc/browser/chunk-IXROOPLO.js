import{$ as k,A as O,B,C as h,D as f,E as A,F as q,G as U,H as I,I as l,J as v,K as ee,L as te,M as N,N as L,O as P,Q as D,S as H,T as pe,U as T,V as W,W as ue,a as ae,b as oe,ba as y,ca as ie,d as Y,e as J,ea as S,g as le,ga as z,h as V,i as X,ia as Q,j as w,k as j,l as ce,la as G,m as p,n as u,o as se,p as de,q as d,r as b,ra as fe,s as E,sa as be,t as x,u as _,v as i,w as n,x as m,y as he,z as me}from"./chunk-SGL2QQJ6.js";var R=class{constructor(){this.batchName="",this.batchStatus="",this.createdBy="",this.pageIndex=0,this.recordPerPage=15}},$=class{constructor(){this.batchFileData=[],this.totalCount=[]}},Z=class{constructor(){this._id="",this.batchName="",this.batchId="",this.createdBy="",this.batchStatus="",this.fileList=[]}},K=class{constructor(){this.fileName="",this.isTextExtractScanned=!1,this.fileStatus=[]}};var we=["batchNameSearchText"],Ee=["batchCreatedBySearch"],Ie=["deleteBatchModal"];function De(o,a){if(o&1&&(i(0,"div",36)(1,"div",37)(2,"div")(3,"span"),l(4),n()()()()),o&2){let s=f();d(4),v(s.deleteMessageInfo)}}function Te(o,a){o&1&&O(0)}function ke(o,a){if(o&1&&(i(0,"li"),l(1),n()),o&2){let s=a.$implicit;d(),ee(" ",s.fileName," ")}}function Fe(o,a){if(o&1&&(i(0,"ol"),x(1,ke,2,1,"li",24),n()),o&2){let s=f().$implicit;d(),_("ngForOf",s.fileList)}}function Me(o,a){o&1&&(i(0,"h4",51),l(1,"No Files!"),n())}function Ne(o,a){if(o&1){let s=B();he(0),i(1,"div",38)(2,"div",39)(3,"div",40)(4,"h5",41),l(5),n(),i(6,"ul")(7,"li")(8,"h6",42),l(9),n()(),i(10,"li")(11,"h6",42),l(12),n()()(),i(13,"div",43)(14,"button",44),h("click",function(){let t=p(s).$implicit,r=f();return u(r.modifyBatch(t.batchId))}),m(15,"i",45),l(16," Add Files!"),n(),i(17,"button",46),h("click",function(){let t=p(s).$implicit,r=f();return u(r.batchDetail(t.batchId))}),m(18,"i",47),l(19," Validate Batch!"),n(),i(20,"button",48),h("click",function(){let t=p(s).$implicit,r=f();return u(r.deleteBatch(t.batchId,t.batchName))}),m(21,"i",35),l(22," Delete Batch!"),n()()(),i(23,"div",49),x(24,Te,1,0,"ng-container",50)(25,Fe,2,1,"ng-template",null,3,D)(27,Me,2,0,"ng-template",null,4,D),n()()(),me()}if(o&2){let s=a.$implicit,e=I(26),t=I(28);d(5),v(s.batchName),d(4),te("","Batch ID: ","",s._id,""),d(3),te("","Created By: ","",s.createdBy||" - - -",""),d(12),_("ngIf",s.fileList.length>0)("ngIfThen",e)("ngIfElse",t)}}var ve=(()=>{let a=class a{constructor(e,t,r,c){this.fileManagementService=e,this.router=t,this.activatedRoute=r,this.renderer=c,this.batchListRequest=new R,this.batchListResponse=new $,this.totalCount=0,this.totalPages=[],this.currentPage=1,this.pageSize=15,this.pageIndex=0,this.PageSizeValues=[10,15,30,50,100],this.errorMessage=["No Records Found!","Error Connecting Server!"],this.errorText="",this.isError=!1,this.searchByBatchName="",this.searchByCreatedBy="",this.deleteMessageInfo="",this.batchToDeleteId="",this.batchNameTobeDeleted="",this.searchTextSub=new oe,this.batchNameTextRef={},this.createdByTextref={},this.deleteBatchModalRef={}}ngOnDestroy(){this.searchTextSub&&this.searchTextSub.unsubscribe()}ngAfterViewInit(){this.getBatchList(),this.subscribeToSearchTextEvents()}subscribeToSearchTextEvents(){this.searchTextSub=Y(this.batchNameTextRef.nativeElement,"keyup").pipe(J(1200)).subscribe(e=>{e&&(this.batchListRequest.batchName=e.target.value,this.getBatchList())}),this.searchTextSub.add(Y(this.createdByTextref.nativeElement,"keyup").pipe(J(1200)).subscribe(e=>{e&&(this.batchListRequest.createdBy=e.target.value,this.getBatchList())}))}clearSearch(){this.searchByBatchName="",this.searchByCreatedBy="",this.batchListRequest=new R,this.pageSize=this.batchListRequest.recordPerPage,this.getBatchList(!0)}getBatchList(e=!0){this.isError=!1,this.batchListRequest.recordPerPage=this.pageSize,e?(this.pageIndex=0,this.currentPage=1,this.batchListRequest.pageIndex=0):(this.pageIndex=this.currentPage-1,this.batchListRequest.pageIndex=this.pageIndex<0?0:this.pageIndex),this.fileManagementService.getBatchList(this.batchListRequest).subscribe({next:t=>{this.batchListResponse=t,this.batchListResponse.batchFileData.length==0?(this.isError=!0,this.errorText=this.errorMessage[0],this.updatePagination(0)):(this.totalCount=this.batchListResponse.totalCount[0].count,this.updatePagination(this.totalCount))},error:t=>{this.isError=!0,this.errorText=this.errorMessage[1]}})}ngOnInit(){}updatePagination(e=0){let t=0;if(e==0)this.totalPages=[],this.currentPage=1;else{t=Math.ceil(e/this.pageSize);let r=[];for(let c=1;c<=t;c++)r.push(c);this.totalPages=r.map(c=>c)}}pageForwardButton(){this.currentPage=this.currentPage+1,this.getBatchList(!1)}pageBackwardButton(){this.currentPage=this.currentPage-1,this.getBatchList(!1)}updatePage(e){this.currentPage=e,this.getBatchList(!1)}updatePageSize(e){this.pageSize=e,this.getBatchList(!1)}disableForwardButton(){return this.currentPage==this.totalPages.length}redirectToDetailPage(e){this.router.navigate(["/Listdetail"],{queryParams:{id:e._id}})}onBatchStatus(e){this.batchListRequest.batchStatus=e,this.getBatchList()}createBatch(){this.router.navigate(["../createBatch"],{relativeTo:this.activatedRoute})}batchDetail(e){this.router.navigate(["../",e],{relativeTo:this.activatedRoute})}deleteBatch(e,t=""){this.batchToDeleteId=e,this.batchNameTobeDeleted=t,this.showDeleteModal()}showDeleteModal(){this.renderer.setStyle(this.deleteBatchModalRef.nativeElement,"display","block"),this.renderer.addClass(this.deleteBatchModalRef.nativeElement,"show")}closeDeleteModal(){this.renderer.setStyle(this.deleteBatchModalRef.nativeElement,"display","none"),this.renderer.removeClass(this.deleteBatchModalRef.nativeElement,"show")}confirmBatchModalClose(e){e?this.fileManagementService.deleteBatch(this.batchToDeleteId).subscribe({next:t=>{this.closeDeleteModal(),this.deleteMessageInfo=`Batch ${this.batchNameTobeDeleted} Has been deleted and Files have been removed from server!`,this.getBatchList(),this.batchToDeleteId="",this.batchNameTobeDeleted=""},error:()=>{this.closeDeleteModal(),this.deleteMessageInfo="Error Deleting Record , server Error",this.getBatchList()}}):(this.batchToDeleteId="",this.batchNameTobeDeleted="",this.closeDeleteModal())}modifyBatch(e){this.router.navigate(["../createBatch"],{relativeTo:this.activatedRoute,queryParams:{batchId:e}})}};a.\u0275fac=function(t){return new(t||a)(b(S),b(y),b(k),b(E))},a.\u0275cmp=w({type:a,selectors:[["app-batch-list"]],viewQuery:function(t,r){if(t&1&&(A(we,5),A(Ee,5),A(Ie,5)),t&2){let c;q(c=U())&&(r.batchNameTextRef=c.first),q(c=U())&&(r.createdByTextref=c.first),q(c=U())&&(r.deleteBatchModalRef=c.first)}},decls:51,vars:5,consts:[["batchNameSearchText",""],["batchCreatedBySearch",""],["deleteBatchModal",""],["showFiles",""],["noFiles",""],[1,"section-wrapper"],[1,"d-flex","flex-row","align-items-center","justify-content-center","mt-2","mb-3"],[1,"text-center","fs-1","me-2","mb-3"],[1,"bi","bi-card-list"],[1,"specialHeader"],[1,"container-fluid"],[1,"row","mb-3"],[1,"col-3"],["for","batchName",1,"form-label"],["type","text","id","batchName","placeholder","Enter batch Name!",1,"form-control",3,"ngModelChange","ngModel"],["for","createdBy",1,"form-label"],["type","text","id","createdBy","placeholder","Enter name!",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-1"],[1,"d-grid","gap-2"],[1,"btn","btn-outline-secondary",3,"click"],[1,"offset-9","col-2"],[1,"btn","btn-primary",3,"click"],[1,"mb-3","mt-3","border","border-top"],["class","d-flex flex-row align-items-center justify-content-center mt-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","bg-body-secondary"],[1,"modal-title","text-danger","fs-4"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"bi","bi-x-octagon"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash3-fill"],[1,"d-flex","flex-row","align-items-center","justify-content-center","mt-3"],["role","alert",1,"alert","alert-danger"],["role","button",1,"d-flex","flex-row","align-items-center","justify-content-center"],[1,"card","m-3","card-width"],[1,"card-header"],[1,"card-title","text-center"],[1,"card-subtitle","mb-2","text-body-secondary"],[1,"d-flex","flex-row","justify-content-end"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"bi","bi-file-earmark-plus"],[1,"btn","btn-sm","btn-outline-success","me-2",3,"click"],[1,"bi","bi-file-earmark-check"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"card-body"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"text-danger","text-center"]],template:function(t,r){if(t&1){let c=B();i(0,"section",5)(1,"section")(2,"div",6)(3,"div",7),m(4,"i",8),n(),i(5,"h3",9),l(6,"Batch List!"),n()(),i(7,"div",10)(8,"div",11)(9,"div",12)(10,"label",13),l(11,"Search by Batch Name"),n(),i(12,"input",14,0),P("ngModelChange",function(C){return p(c),L(r.searchByBatchName,C)||(r.searchByBatchName=C),u(C)}),n()(),i(14,"div",12)(15,"label",15),l(16,"Search by Created by"),n(),i(17,"input",16,1),P("ngModelChange",function(C){return p(c),L(r.searchByCreatedBy,C)||(r.searchByCreatedBy=C),u(C)}),n()()(),i(19,"div",11)(20,"div",17)(21,"div",18)(22,"button",19),h("click",function(){return p(c),u(r.clearSearch())}),l(23," Clear All"),n()()(),i(24,"div",20)(25,"div",18)(26,"button",21),h("click",function(){return p(c),u(r.createBatch())}),l(27," Create Batch"),n()()()()()(),i(28,"section",22),x(29,De,5,1,"div",23)(30,Ne,29,8,"ng-container",24),n()(),i(31,"div",25,2)(33,"div",26)(34,"div",27)(35,"div",28)(36,"span",29),l(37," Are you sure You want to Delete "),i(38,"strong"),l(39),n(),l(40," batch from Database ? "),n()(),i(41,"div",30)(42,"p"),l(43,"This Will permanently remove batch and delete All related files!"),n()(),i(44,"div",31)(45,"button",32),h("click",function(){return p(c),u(r.confirmBatchModalClose(!1))}),m(46,"i",33),l(47," Cancel "),n(),i(48,"button",34),h("click",function(){return p(c),u(r.confirmBatchModalClose(!0))}),m(49,"i",35),l(50," Confirm Delete! "),n()()()()()}t&2&&(d(12),N("ngModel",r.searchByBatchName),d(5),N("ngModel",r.searchByCreatedBy),d(12),_("ngIf",r.deleteMessageInfo),d(),_("ngForOf",r.batchListResponse.batchFileData),d(9),ee('" ',r.batchNameTobeDeleted,' "'))},dependencies:[T,W,z,Q,G],styles:[".section-wrapper[_ngcontent-%COMP%]{min-height:calc(100vh - 45px)}.specialHeader[_ngcontent-%COMP%]{text-decoration:underline;font-family:catchyHeader}.card-width[_ngcontent-%COMP%]{width:50%}"]});let o=a;return o})();var M=(()=>{let a=class a{constructor(e,t){this._router=e,this.fileManagementService=t}canActivate(e,t){return sessionStorage.getItem("authToken")?(this.fileManagementService.isUserAuthenticated=!0,!0):(this.fileManagementService.isUserAuthenticated=!1,this._router.navigate(["/"]),!1)}};a.\u0275fac=function(t){return new(t||a)(X(y),X(S))},a.\u0275prov=le({token:a,factory:a.\u0275fac,providedIn:"root"});let o=a;return o})();var _e=(()=>{let a=class a{constructor(e,t){this.el=e,this.renderer=t,this.filesChangeEmiter=new de}onDragOver(e){this.preventDefaultProgation(e),this.renderer.setStyle(this.el.nativeElement,"background-color","lightgray"),this.renderer.setStyle(this.el.nativeElement,"border-color","cadetblue"),this.renderer.setStyle(this.el.nativeElement,"border","3px solid")}onDragLeave(e){this.preventDefaultProgation(e),this.renderer.setStyle(this.el.nativeElement,"background-color","#eee"),this.renderer.setStyle(this.el.nativeElement,"border-color","black"),this.renderer.setStyle(this.el.nativeElement,"border","4px dashed")}onDrop(e){this.preventDefaultProgation(e),this.renderer.setStyle(this.el.nativeElement,"background-color","#eee"),this.renderer.setStyle(this.el.nativeElement,"border-color","black"),this.renderer.setStyle(this.el.nativeElement,"border","4px dashed");let r=e.dataTransfer.files;this.filesChangeEmiter.emit(r)}preventDefaultProgation(e){e.preventDefault(),e.stopPropagation()}};a.\u0275fac=function(t){return new(t||a)(b(se),b(E))},a.\u0275dir=ce({type:a,selectors:[["","fileDragDrop",""]],hostBindings:function(t,r){t&1&&h("dragover",function(g){return r.onDragOver(g)})("dragleave",function(g){return r.onDragLeave(g)})("drop",function(g){return r.onDrop(g)})},outputs:{filesChangeEmiter:"filesChangeEmiter"}});let o=a;return o})();function Pe(o,a){o&1&&O(0)}function Re(o,a){if(o&1){let s=B();i(0,"div",13)(1,"div",14)(2,"label",15),l(3,"Enter Batch Name"),n(),i(4,"input",16),P("ngModelChange",function(t){p(s);let r=f();return L(r.batchName,t)||(r.batchName=t),u(t)}),h("keyup.enter",function(){p(s);let t=f();return u(t.create())}),n()()(),i(5,"div",17)(6,"button",18),h("click",function(){p(s);let t=f();return u(t.create())}),l(7," Create Batch"),n(),i(8,"button",19),h("click",function(){p(s);let t=f();return u(t.goBack())}),l(9," Go Back"),n()()}if(o&2){let s=f();d(4),N("ngModel",s.batchName)}}function Ve(o,a){if(o&1){let s=B();i(0,"div",20)(1,"div",21)(2,"div")(3,"strong"),l(4,"Batch Name"),n()(),i(5,"div")(6,"p"),l(7),n()()(),i(8,"div",21)(9,"div")(10,"strong"),l(11,"Batch Id"),n()(),i(12,"div")(13,"p"),l(14),n()()(),i(15,"div",21)(16,"div")(17,"strong"),l(18,"Created By"),n()(),i(19,"div")(20,"p"),l(21),n()()(),i(22,"div",21)(23,"div")(24,"strong"),l(25,"Batch Status"),n()(),i(26,"div")(27,"p"),l(28),n()()()(),i(29,"div",3)(30,"button",22),h("click",function(){p(s);let t=f();return u(t.goBack())}),m(31,"i",23),l(32," Go Back "),n(),i(33,"button",24),h("click",function(){p(s);let t=f();return u(t.createNewBatch())}),m(34,"i",25),l(35," Create New Batch "),n()()}if(o&2){let s=f();d(7),v(s.batchName),d(7),v(s.batchId),d(7),v(s.batchCreatedBy),d(7),v(s.batchCurrentStatus)}}function je(o,a){if(o&1){let s=B();i(0,"div",26)(1,"div",27),h("filesChangeEmiter",function(t){p(s);let r=f();return u(r.onFileDragAndDrop(t))}),i(2,"input",28),h("change",function(t){p(s);let r=f();return u(r.onFileSubmit(t))}),n(),i(3,"label",29)(4,"span",30),l(5,"Select your file"),n(),l(6," or Drop it here!"),n()()()}}function Oe(o,a){o&1&&(i(0,"h5",31),l(1,"Uploaded Files"),n())}function Ae(o,a){if(o&1&&(i(0,"li"),l(1),n()),o&2){let s=a.$implicit;d(),v(s)}}var xe=(()=>{let a=class a{constructor(e,t,r,c){this.fileManagementService=e,this.activatedRoute=t,this.router=r,this.location=c,this.batchName="",this.batchId="",this.batchCreatedBy="",this.batchCurrentStatus="",this.uploadedFiles=[],this.pageTitle="Create Batch!"}ngAfterViewInit(){this.activatedRoute.queryParams.subscribe(e=>{e&&e.batchId&&(this.batchId=e.batchId,this.pageTitle="Add Files To Batch!",this.getUploadedBatchFiles())})}create(){this.batchName&&this.fileManagementService.createBatch(this.batchName).subscribe({next:e=>{let t=e,{batchId:r}=t;this.batchId=r},error:e=>{this.getUploadedBatchFiles()}})}onFileSubmit(e){let{target:{files:t}}=e,r=t;this.sendFilesToGCPStorage(r)}onFileDragAndDrop(e){this.sendFilesToGCPStorage(e)}sendFilesToGCPStorage(e){this.batchId&&this.fileManagementService.uploadFiles(this.batchId,e).subscribe({next:t=>{this.getUploadedBatchFiles()},error:t=>{this.getUploadedBatchFiles()}})}getUploadedBatchFiles(){this.batchId&&this.fileManagementService.getBatchDetail(this.batchId).subscribe({next:e=>{let t=e,{fileList:r,batchName:c,createdBy:g,batchStatus:C}=t;this.batchName=c,this.batchCreatedBy=g,this.batchCurrentStatus=C,this.uploadedFiles=r.map(ye=>ye.fileName)},error:e=>{}})}goBack(){this.location.back()}createNewBatch(){this.batchName="",this.batchId="",this.batchCreatedBy="",this.batchCurrentStatus="",this.uploadedFiles=[],this.pageTitle="Create Batch!"}};a.\u0275fac=function(t){return new(t||a)(b(S),b(k),b(y),b(H))},a.\u0275cmp=w({type:a,selectors:[["app-create-batch"]],decls:21,vars:7,consts:[["notcreated",""],["created",""],[1,"section-wrapper"],[1,"d-flex","flex-row","align-items-center","justify-content-center","mt-2","mb-3"],[1,"text-center","fs-1","me-2","mb-3"],[1,"bi","bi-file-earmark-plus"],[1,"specialHeader"],[1,"container-fluid"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"mt-3","mb-3"],["class","dragAndDropZone",4,"ngIf"],["class","text-center",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row","mb-3"],[1,"col-3"],["for","batchName",1,"form-label"],["type","text","id","batchName","placeholder","Enter batch Name!",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"d-flex","flex-row","align-items-center","justify-content-start","mt-2","mb-3"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"row"],[1,"col"],[1,"btn","btn-sm","btn-warning","me-2",3,"click"],[1,"bi","bi-card-list"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi","bi-file-earmark-plus"],[1,"dragAndDropZone"],["fileDragDrop","",1,"dropzone",3,"filesChangeEmiter"],["type","file","name","file","id","file","multiple","",3,"change"],["for","file"],[1,"textLink"],[1,"text-center"]],template:function(t,r){if(t&1&&(i(0,"section",2)(1,"section")(2,"div",3)(3,"div",4),m(4,"i",5),n(),i(5,"h3",6),l(6),n()()(),i(7,"section")(8,"div",7),x(9,Pe,1,0,"ng-container",8)(10,Re,10,1,"ng-template",null,0,D)(12,Ve,36,4,"ng-template",null,1,D),n()(),i(14,"section",9),x(15,je,7,0,"div",10),n(),i(16,"section",9),x(17,Oe,2,0,"h5",11),i(18,"div",7)(19,"ol"),x(20,Ae,2,1,"li",12),n()()()()),t&2){let c=I(11),g=I(13);d(6),v(r.pageTitle),d(3),_("ngIf",r.batchId)("ngIfThen",g)("ngIfElse",c),d(6),_("ngIf",r.batchId),d(2),_("ngIf",r.uploadedFiles.length>0),d(3),_("ngForOf",r.uploadedFiles)}},dependencies:[T,W,z,Q,G,_e],styles:[".section-wrapper[_ngcontent-%COMP%]{min-height:calc(100vh - 45px)}.dragAndDropZone[_ngcontent-%COMP%]{padding:4em}.dropzone[_ngcontent-%COMP%]{height:200px;background-color:#eee;border:dashed 4px black;justify-content:center;align-items:center;display:flex}input[type=file][_ngcontent-%COMP%]{display:none}"]});let o=a;return o})();function qe(o,a){if(o&1){let s=B();i(0,"div",27),h("click",function(){let t=p(s).$implicit,r=f();return u(r.onFileSelect(t))}),l(1),n()}if(o&2){let s=a.$implicit,e=f();_("ngClass",e.getFileClass(s)),d(),v(s.fileName)}}var Ce=(()=>{let a=class a{constructor(e,t,r,c,g){this.fileManagementService=e,this.router=t,this.activatedRoute=r,this.location=c,this.renderer=g,this.batchDetail=new Z,this.selectedFile=new K}ngAfterViewInit(){let e=this.activatedRoute.snapshot.paramMap.get("id");e&&this.getBatchDetails(e)}getBatchDetails(e){this.fileManagementService.getBatchDetail(e).subscribe({next:t=>{this.batchDetail=t},error:t=>{}})}goBack(){this.location.back()}createNewBatch(){this.router.navigate(["../createBatch"],{relativeTo:this.activatedRoute})}getFileClass(e){return e==this.selectedFile?"active":""}onFileSelect(e){this.selectedFile=e}downloadSelectedFile(){return ae(this,null,function*(){this.selectedFile&&this.fileManagementService.singleFileDownload(this.batchDetail.batchId,this.selectedFile.fileName).subscribe({next:e=>{let t=new Blob([e.body],{type:"application/octet-stream"});var r=window.URL.createObjectURL(t),c=document.createElement("a");c.setAttribute("style","display:none;"),document.body.appendChild(c),c.href=r,c.download=`${this.selectedFile.fileName}`,c.target="_blank",c.click(),document.body.removeChild(c)},error:e=>{}})})}displayPdf(){this.selectedFile.fileName&&this.batchDetail.batchId&&this.fileManagementService.getFileBase64String(this.batchDetail.batchId,this.selectedFile.fileName).subscribe({next:e=>{let{convertedBase64String:t}=e;t&&this.handleRenderPdf(t)},error:e=>{}})}displayPdfUsingFileUrl(){this.selectedFile.fileName&&this.batchDetail.batchId&&this.fileManagementService.getFileBucketDownloadUrl(this.batchDetail.batchId,this.selectedFile.fileName).subscribe({next:e=>{let{bucketPdfUrl:t}=e;t&&this.handleRenderPdf(t)},error:e=>{}})}handleRenderPdf(e){let t=PDFObject.embed(e,"#pdfContainer")}};a.\u0275fac=function(t){return new(t||a)(b(S),b(y),b(k),b(H),b(E))},a.\u0275cmp=w({type:a,selectors:[["app-batch-detail"]],decls:78,vars:5,consts:[[1,"section-wrapper"],[1,"border-bottom"],[1,"d-flex","flex-row","align-items-center","justify-content-center","mt-2","mb-3"],[1,"text-center","fs-1","me-2","mb-3"],[1,"bi","bi-file-check"],[1,"specialHeader"],[1,"container-fluid"],[1,"row"],[1,"col"],[1,"btn","btn-sm","btn-warning","me-2",3,"click"],[1,"bi","bi-card-list"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi","bi-file-earmark-plus"],[1,"row","g-0","section-wrapper"],[1,"col-3","border-end"],[1,"list-group","list-group-flush","border-top","border-bottom"],["class","list-group-item","role","button",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-4","border-end"],[1,"btn","btn-sm","btn-warning","me-2"],[1,"bi","bi-arrow-repeat"],[1,"bi","bi-file-earmark"],[1,"btn","btn-sm","btn-primary","me-2",3,"click"],[1,"bi","bi-arrow-down-circle"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"bi","bi-file-earmark-play"],[1,"container-fluid","mt-3","mb-3"],["id","pdfContainer",1,"pdfViewerWrapper"],["role","button",1,"list-group-item",3,"click","ngClass"]],template:function(t,r){t&1&&(i(0,"section",0)(1,"section",1)(2,"div",2)(3,"div",3),m(4,"i",4),n(),i(5,"h3",5),l(6,"Files Validation!"),n()(),i(7,"div",6)(8,"div",7)(9,"div",8)(10,"div")(11,"strong"),l(12,"Batch Name"),n()(),i(13,"div")(14,"p"),l(15),n()()(),i(16,"div",8)(17,"div")(18,"strong"),l(19,"Batch Id"),n()(),i(20,"div")(21,"p"),l(22),n()()(),i(23,"div",8)(24,"div")(25,"strong"),l(26,"Created By"),n()(),i(27,"div")(28,"p"),l(29),n()()(),i(30,"div",8)(31,"div")(32,"strong"),l(33,"Batch Status"),n()(),i(34,"div")(35,"p"),l(36),n()()()(),i(37,"div",2)(38,"button",9),h("click",function(){return r.goBack()}),m(39,"i",10),l(40," Go Back "),n(),i(41,"button",11),h("click",function(){return r.createNewBatch()}),m(42,"i",12),l(43," Create New Batch "),n()()()(),i(44,"div",13)(45,"div",14)(46,"div",2)(47,"div",3),m(48,"i",10),n(),i(49,"h5",5),l(50,"Files List!"),n()(),i(51,"div",15),x(52,qe,2,2,"div",16),n()(),i(53,"div",17)(54,"div",2)(55,"div",3),m(56,"i",4),n(),i(57,"h5",5),l(58,"Extracted Data!"),n()(),i(59,"div",2)(60,"button",18),m(61,"i",19),l(62," Aws Textextract Re-scan! "),n()()(),i(63,"div",8)(64,"div",2)(65,"div",3),m(66,"i",20),n(),i(67,"h5",5),l(68,"File"),n()(),i(69,"div",2)(70,"button",21),h("click",function(){return r.downloadSelectedFile()}),m(71,"i",22),l(72," Download Selected File! "),n(),i(73,"button",23),h("click",function(){return r.displayPdf()}),m(74,"i",24),l(75," Load In Viewer! "),n()(),i(76,"div",25),m(77,"div",26),n()()()()),t&2&&(d(15),v(r.batchDetail.batchName),d(7),v(r.batchDetail.batchId),d(7),v(r.batchDetail.createdBy||"- - -"),d(7),v(r.batchDetail.batchStatus),d(16),_("ngForOf",r.batchDetail.fileList))},dependencies:[pe,T],styles:[".section-wrapper[_ngcontent-%COMP%]{min-height:calc(100vh - 45px)}.pdfViewerWrapper[_ngcontent-%COMP%]{height:85vh}"]});let o=a;return o})();var Ue=[{path:"list",component:ve,canActivate:[M]},{path:"createBatch",component:xe,canActivate:[M]},{path:":id",component:Ce,canActivate:[M]},{path:"",pathMatch:"full",redirectTo:"list"},{path:"**",redirectTo:"notFound"}],Be=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=j({type:a}),a.\u0275inj=V({imports:[ie.forChild(Ue),ie]});let o=a;return o})();var xt=(()=>{let a=class a{};a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=j({type:a}),a.\u0275inj=V({providers:[M],imports:[ue,fe,be,Be]});let o=a;return o})();export{xt as a};
